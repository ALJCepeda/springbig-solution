(function(t) { function e(e) { for (var a, i, o = e[0], s = e[1], u = e[2], f = 0, d = []; f < o.length; f++)i = o[f], Object.prototype.hasOwnProperty.call(r, i) && r[i] && d.push(r[i][0]), r[i] = 0; for (a in s)Object.prototype.hasOwnProperty.call(s, a) && (t[a] = s[a]); l && l(e); while (d.length)d.shift()(); return c.push.apply(c, u || []), n() } function n() { for (var t, e = 0; e < c.length; e++) { for (var n = c[e], a = !0, o = 1; o < n.length; o++) { const s = n[o]; r[s] !== 0 && (a = !1) }a && (c.splice(e--, 1), t = i(i.s = n[0])) } return t } const a = {}; var r = { app: 0 }; var c = []; function i(e) { if (a[e]) return a[e].exports; const n = a[e] = { i: e, l: !1, exports: {} }; return t[e].call(n.exports, n, n.exports, i), n.l = !0, n.exports }i.m = t, i.c = a, i.d = function(t, e, n) { i.o(t, e) || Object.defineProperty(t, e, { enumerable: !0, get: n }) }, i.r = function(t) { typeof Symbol !== 'undefined' && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, { value: 'Module' }), Object.defineProperty(t, '__esModule', { value: !0 }) }, i.t = function(t, e) { if (1 & e && (t = i(t)), 8 & e) return t; if (4 & e && typeof t === 'object' && t && t.__esModule) return t; const n = Object.create(null); if (i.r(n), Object.defineProperty(n, 'default', { enumerable: !0, value: t }), 2 & e && typeof t !== 'string') for (const a in t)i.d(n, a, function(e) { return t[e] }.bind(null, a)); return n }, i.n = function(t) { const e = t && t.__esModule ? function() { return t.default } : function() { return t }; return i.d(e, 'a', e), e }, i.o = function(t, e) { return Object.prototype.hasOwnProperty.call(t, e) }, i.p = ''; let o = window.webpackJsonp = window.webpackJsonp || []; const s = o.push.bind(o); o.push = e, o = o.slice(); for (let u = 0; u < o.length; u++)e(o[u]); var l = s; c.push([0, 'chunk-vendors']), n() })({ 0: function(t, e, n) { t.exports = n('cd49') }, '03e0': function(t, e, n) { 'use strict'; const a = n('96a1'); const r = n.n(a); r.a }, '2d10': function(t, e, n) {}, '2e3c': function(t, e, n) { 'use strict'; const a = n('6f9a'); const r = n.n(a); r.a }, '3c93': function(t, e, n) { 'use strict'; const a = n('2d10'); const r = n.n(a); r.a }, 4283: function(t, e, n) {}, '5f6d': function(t, e, n) { 'use strict'; const a = n('4283'); const r = n.n(a); r.a }, '6f9a': function(t, e, n) {}, '96a1': function(t, e, n) {}, cafc: function(t, e, n) { 'use strict'; const a = n('e8f6'); const r = n.n(a); r.a }, cd49: function(t, e, n) { 'use strict'; n.r(e); n('e260'), n('e6cf'), n('cca6'), n('a79d'); const a = n('2b0e'); const r = n('2f62'); const c = function() { const t = this; const e = t.$createElement; const n = t._self._c || e; return n('div', { class: { dark: t.isDark, light: !t.isDark }, attrs: { id: 'app' } }, [n('header', { staticClass: 'shadow-sm gutters' }, [n('h3', [t._v(' Where in the world? ')]), t.isDark ? t._e() : n('span', { staticClass: 'theme-btn', on: { click: function(e) { t.isDark = !0 } } }, [n('fai', { attrs: { icon: 'moon' } }), t._v(' Dark Mode ')], 1), t.isDark ? n('span', { staticClass: 'theme-btn', on: { click: function(e) { t.isDark = !1 } } }, [n('fai', { attrs: { icon: 'sun' } }), t._v(' Light Mode ')], 1) : t._e()]), t.displayableErrors.length > 0 ? n('div', { staticClass: 'errors gutters' }, t._l(t.displayableErrors, function(e) { return n('div', { key: e.message, staticClass: 'error' }, [n('span', [t._v(t._s(e.message))]), n('span', { on: { click: function(t) { e.cleared = !0 } } }, [n('fai', { attrs: { icon: 'times-circle' } })], 1)]) }), 0) : t._e(), n('div', { directives: [{ name: 'show', rawName: 'v-show', value: !t.fetching, expression: '!fetching' }] }, [n('router-view')], 1), t.fetching ? n('div', [n('h3', [t._v('Pretend there some fancy loading screen here with a bunch of shiny trinkets moving around to keep you distracted while I fetch data')])]) : t._e()]) }; const i = []; const o = (n('b0c0'), n('d3b7'), n('5530')); const s = n('d4ec'); const u = n('bee2'); const l = n('262e'); const f = n('2caf'); const d = n('9ab4'); const p = n('60a3'); let v = (function(t) { Object(l.a)(n, t); const e = Object(f.a)(n); function n() { let t; return Object(s.a)(this, n), t = e.apply(this, arguments), t.name = 'App', t.isDark = !0, t.fetching = !0, t } return Object(u.a)(n, [{ key: 'created', value: function() { const t = this; this.$store.dispatch('fetchCountries').finally(function() { return t.fetching = !1 }) } }]), n }(p.c)); v = Object(d.a)([Object(p.a)({ computed: Object(o.a)({}, Object(r.b)(['displayableErrors'])) })], v); const b = v; const h = b; const m = (n('cf25'), n('2877')); const y = Object(m.a)(h, c, i, !1, null, null, null); const g = y.exports; const _ = n('8c4f'); const C = function() { const t = this; const e = t.$createElement; const n = t._self._c || e; return n('main', { staticClass: 'view' }, [n('section', { staticClass: 'filters' }, [n('app-input', { staticClass: 'name-filter shadow-sm', attrs: { value: t.countryNameFilter }, on: { 'update:value': function(e) { t.countryNameFilter = e } }, scopedSlots: t._u([{ key: 'leftIcon', fn: function() { return [n('fai', { attrs: { icon: 'search' } })] }, proxy: !0 }, this.countryNameFilter ? { key: 'rightIcon', fn: function() { return [n('span', { staticStyle: { cursor: 'pointer' }, on: { click: function(e) { return t.clickedClearNameFilter() } } }, [n('fai', { attrs: { icon: 'times' } })], 1)] }, proxy: !0 } : null], null, !0) }), n('app-dropdown', { staticClass: 'region-filter shadow-sm', attrs: { items: t.availableRegions, selected: t.selectedRegion, placeholder: 'Filter by Region' }, on: { 'update:selected': function(e) { t.selectedRegion = e } } })], 1), n('section', { staticClass: 'content' }, [t._l(t.filteredCountries, function(e) { return n('div', { key: e.name, staticClass: 'country-card', on: { click: function(n) { return t.clickedCountry(e) } } }, [n('app-country-card', { attrs: { country: e } })], 1) }), t.filteredCountries.length === 0 ? n('div', [t._v(' No countries found, please check your filters :( ')]) : t._e()], 2)]) }; const j = []; const O = (n('4de4'), n('caad'), n('2532'), function() { const t = this; const e = t.$createElement; const n = t._self._c || e; return n('main', { staticClass: 'light-text', attrs: { tabindex: '-1' }, on: { focus: function(e) { t.focused = !0 }, focusout: function(e) { t.focused = !1 } } }, [n('div', { staticClass: 'selected shadow-sm', on: { click: function(e) { t.focused = !0 } } }, [t._v(' ' + t._s(t.selected || t.placeholder) + ' '), t.selected ? t._e() : n('span', [n('fai', { attrs: { icon: 'angle-down' } })], 1), t.selected ? n('span', { on: { click: function(e) { return e.stopPropagation(), t.clickedClear() } } }, [n('fai', { attrs: { icon: 'times' } })], 1) : t._e()]), t.focused ? n('div', { staticClass: 'items shadow' }, t._l(t.items, function(e) { return n('div', { key: e, staticClass: 'item', class: { hidden: t.selected === e }, on: { click: function(n) { return t.clickedItem(e) } } }, [t._v(' ' + t._s(e) + ' ')]) }), 0) : t._e()]) }); const k = []; let w = (function(t) { Object(l.a)(n, t); const e = Object(f.a)(n); function n() { let t; return Object(s.a)(this, n), t = e.apply(this, arguments), t.name = 'app-dropdown', t.focused = !1, t } return Object(u.a)(n, [{ key: 'clickedItem', value: function(t) { this.$emit('update:selected', t), this.focused = !1 } }, { key: 'clickedClear', value: function() { this.clickedItem(null) } }]), n }(p.c)); Object(d.a)([Object(p.b)()], w.prototype, 'items', void 0), Object(d.a)([Object(p.b)()], w.prototype, 'selected', void 0), Object(d.a)([Object(p.b)()], w.prototype, 'placeholder', void 0), w = Object(d.a)([p.a], w); const x = w; const $ = x; const N = (n('3c93'), Object(m.a)($, O, k, !1, null, '794f5d3b', null)); const F = N.exports; const I = function() { const t = this; const e = t.$createElement; const n = t._self._c || e; return n('main', [t.$slots.leftIcon ? n('div', { staticClass: 'icon' }, [t._t('leftIcon')], 2) : t._e(), n('input', { attrs: { placeholder: 'Search for a country...', type: 'text' }, domProps: { value: t.value }, on: { input: function(e) { return t.$emit('update:value', e.target.value) } } }), t.$slots.rightIcon ? n('div', { staticClass: 'icon' }, [t._t('rightIcon')], 2) : t._e()]) }; const R = []; let D = (function(t) { Object(l.a)(n, t); const e = Object(f.a)(n); function n() { let t; return Object(s.a)(this, n), t = e.apply(this, arguments), t.name = 'app-input', t } return n }(p.c)); Object(d.a)([Object(p.b)()], D.prototype, 'value', void 0), D = Object(d.a)([p.a], D); const E = D; const P = E; const L = (n('2e3c'), Object(m.a)(P, I, R, !1, null, '25b0fc92', null)); const S = L.exports; const A = function() { const t = this; const e = t.$createElement; const n = t._self._c || e; return n('main', { staticClass: 'shadow-sm' }, [n('img', { attrs: { src: t.country.flagURL, alt: t.country.name + ' Flag' } }), n('section', [n('div', { staticClass: 'title bold-text' }, [t._v(t._s(t.country.name))]), n('div', { staticClass: 'info' }, [n('label', { staticClass: 'detail' }, [t._v(' Population: '), n('span', [t._v(t._s(t._f('prettify')(t.country.population)))])]), n('label', { staticClass: 'detail' }, [t._v(' Region: '), n('span', [t._v(t._s(t.country.region))])]), n('label', { staticClass: 'detail' }, [t._v(' Capital: '), n('span', [t._v(t._s(t.country.capital))])])])])]) }; const M = []; let B = (function(t) { Object(l.a)(n, t); const e = Object(f.a)(n); function n() { let t; return Object(s.a)(this, n), t = e.apply(this, arguments), t.name = 'app-country-card', t } return n }(p.c)); Object(d.a)([Object(p.b)()], B.prototype, 'country', void 0), B = Object(d.a)([p.a], B); const T = B; const U = T; const H = (n('cafc'), Object(m.a)(U, A, M, !1, null, 'bd571a6a', null)); const J = H.exports; let W = (function(t) { Object(l.a)(n, t); const e = Object(f.a)(n); function n() { let t; return Object(s.a)(this, n), t = e.apply(this, arguments), t.countryNameFilter = '', t.selectedRegion = '', t } return Object(u.a)(n, [{ key: 'clickedCountry', value: function(t) { this.$router.push('/'.concat(t.alphaCodes[0])) } }, { key: 'clickedClearNameFilter', value: function() { this.countryNameFilter = '' } }, { key: 'created', value: function() { document.title = 'Home' } }, { key: 'filteredCountries', get: function() { const t = this; return this.$store.getters.allCountries.filter(function(e) { return !!e.name.toLocaleLowerCase().includes(t.countryNameFilter.toLocaleLowerCase()) && (!t.selectedRegion || e.region === t.selectedRegion) }) } }]), n }(p.c)); W = Object(d.a)([Object(p.a)({ components: { AppDropdown: F, AppInput: S, AppCountryCard: J }, computed: Object(o.a)({}, Object(r.b)(['allCountries', 'availableRegions'])) })], W); const q = W; const z = q; const G = (n('03e0'), Object(m.a)(z, C, j, !1, null, '30cbe805', null)); const K = G.exports; const Q = function() { const t = this; const e = t.$createElement; const n = t._self._c || e; return t.country ? n('main', { staticClass: 'view' }, [n('header', [n('button', { staticClass: 'back-btn shadow-sm', on: { click: function(e) { return t.clickedBack() } } }, [n('fai', { attrs: { icon: 'long-arrow-alt-left' } }), t._v(' Back ')], 1)]), n('section', { staticClass: 'content' }, [n('div', [n('img', { attrs: { src: t.country.flagURL, alt: t.country.name + ' Flag' } })]), n('div', { staticClass: 'info' }, [n('h1', [t._v(t._s(t.country.name))]), n('div', { staticClass: 'description' }, [n('div', { staticClass: 'aside' }, [n('label', { staticClass: 'detail' }, [t._v(' Native Name: '), n('span', [t._v(t._s(t.country.nativeName))])]), n('label', { staticClass: 'detail' }, [t._v(' Population: '), n('span', [t._v(t._s(t._f('prettify')(t.country.population)))])]), n('label', { staticClass: 'detail' }, [t._v(' Region: '), n('span', [t._v(t._s(t.country.region))])]), n('label', { staticClass: 'detail' }, [t._v(' Sub Region: '), n('span', [t._v(t._s(t.country.subRegion))])]), n('label', { staticClass: 'detail' }, [t._v(' Capital: '), n('span', [t._v(t._s(t.country.capital))])])]), n('div', { staticClass: 'aside' }, [n('label', { staticClass: 'detail' }, [t._v(' Top Level Domain: '), n('span', [t._v(t._s(t.country.topLevelDomain.join(', ')))])]), n('label', { staticClass: 'detail' }, [t._v(' Currencies: '), n('span', [t._v(t._s(t.country.currencies.join(', ')))])]), n('label', { staticClass: 'detail' }, [t._v(' Languages: '), n('span', [t._v(t._s(t.country.languages.join(', ')))])])])]), t.borderCountries.length !== 0 ? n('div', { staticClass: 'badge-container' }, [n('label', [t._v('Border Countries:')]), t._l(t.borderCountries, function(e) { return n('span', { key: e.name, staticClass: 'badge', attrs: { country: e }, on: { click: function(n) { return t.clickedBadge(e) } } }, [t._v(' ' + t._s(e.name) + ' ')]) })], 2) : t._e()])])]) : t._e() }; const V = []; let X = (function(t) { Object(l.a)(n, t); const e = Object(f.a)(n); function n() { return Object(s.a)(this, n), e.apply(this, arguments) } return Object(u.a)(n, [{ key: 'clickedBadge', value: function(t) { this.$router.push('/'.concat(t.alphaCodes[0])) } }, { key: 'clickedBack', value: function() { this.$router.push('/') } }, { key: 'created', value: function() { document.title = 'Details' } }, { key: 'country', get: function() { return this.$store.getters.countryFromId(this.$route.params.id) } }, { key: 'borderCountries', get: function() { const t = this.$store.getters.countryFromId(this.$route.params.id); return this.$store.getters.countriesFromAlphaCodes(t.borders) } }]), n }(p.c)); X = Object(d.a)([p.a], X); const Y = X; const Z = Y; const tt = (n('5f6d'), Object(m.a)(Z, Q, V, !1, null, '79110ab0', null)); const et = tt.exports; const nt = function t(e) { Object(s.a)(this, t), this.message = e, this.when = new Date() }; const at = (function(t) { Object(l.a)(n, t); const e = Object(f.a)(n); function n() { let t; return Object(s.a)(this, n), t = e.apply(this, arguments), t.cleared = !1, t } return n }(nt)); function rt(t) { const e = [{ path: '/', name: 'Home', component: K }, { path: '/:id', name: 'Country', component: et, beforeEnter: function(e, n, a) { const r = t.getters.countryFromId(e.params.id); r || (t.commit('encounteredErrors', [new at("Couldn't find country for id: ".concat(e.params.id))]), a('/')), a() } }]; return new _.a({ routes: e }) }a.a.use(_.a); const ct = n('ecee'); const it = n('c074'); const ot = n('ad3d'); const st = (n('99af'), n('4160'), n('a630'), n('d81d'), n('13d5'), n('4ec9'), n('6062'), n('3ca3'), n('159b'), n('ddb0'), (function() { function t(e) { Object(s.a)(this, t), Object.assign(this, e) } return Object(u.a)(t, null, [{ key: 'fromAPI', value: function(t) { return { name: t.name, population: t.population, region: t.region || 'None', capital: t.capital, alphaCodes: [t.alpha2Code, t.alpha3Code], flagURL: t.flag, nativeName: t.nativeName, topLevelDomain: t.topLevelDomain, currencies: t.currencies.map(function(t) { return t.name }), languages: t.languages.map(function(t) { return t.name }), subRegion: t.subregion, borders: t.borders } } }]), t }())); function ut() { return new r.a.Store({ state: { errors: [], countries: [], index: new Map() }, getters: { allCountries: function(t) { return t.countries }, countryFromId: function(t) { return function(e) { return t.index.get(e) } }, countriesFromAlphaCodes: function(t) { return function(e) { return e.map(function(e) { return t.index.get(e) }) } }, names: function(t) { return function(e) { return e.map(function(e) { const n = t.index.get(e); return n ? n.name : null }) } }, displayableErrors: function(t) { return t.errors.filter(function(t) { return t instanceof at && !t.cleared }) }, availableRegions: function(t) { const e = t.countries.reduce(function(t, e) { return t.add(e.region) }, new Set()).values(); return Array.from(e) } }, mutations: { encounteredErrors: function(t, e) { t.errors = t.errors.concat(e) }, setCountries: function(t, e) { t.countries = e, t.index = e.reduce(function(t, e) { return e.alphaCodes.forEach(function(n) { return t.set(n, e) }), t.set(e.name, e), t }, new Map()) } }, actions: { fetchCountries: function(t) { const e = t.commit; return fetch('https://restcountries.eu/rest/v2/all').then(function(t) { return t.json() }).then(function(t) { return t.map(function(t) { return st.fromAPI(t) }) }).then(function(t) { return e('setCountries', t), t }) } } }) }n('ac1f'), n('25f0'), n('5319'); function lt(t) { t.filter('prettify', function(t) { return isNaN(t) ? typeof t === 'boolean' ? t ? 'true' : 'false' : t || 'N/A' : t.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',') }) }a.a.use(r.a); const ft = ut(); ct.c.add(it.d, it.b, it.c, it.e, it.g, it.a, it.f), a.a.component('fai', ot.a), a.a.config.productionTip = !1, lt(a.a); const dt = rt(ft); new a.a({ router: dt, render: function(t) { return t(g) }, store: ft }).$mount('#app') }, cf25: function(t, e, n) { 'use strict'; const a = n('fea6'); const r = n.n(a); r.a }, e8f6: function(t, e, n) {}, fea6: function(t, e, n) {} })
// # sourceMappingURL=app.ce086ea6.js.map
